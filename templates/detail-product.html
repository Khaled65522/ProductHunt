{% extends "base.html" %}
{% load tailwind_filters %}

{% block body %}
   <div class="p-8">
      <div class="flex items-start gap-8">
         <img src="{{ product.icon.url }}"
               alt="{{ product.name }} icon"
               width="128"
               height="128"
               class="w-32 h-32 rounded-lg object-cover object-center" />

         <div class="flex-1">
            <h1 class="text-3xl font-bold text-gray-900">{{ product.name }}</h1>
            <p class="mt-2 text-xl text-gray-600">{{ product.tagline }}</p>

            <div class="mt-6">
               <h2 class="text-xl font-semibold text-gray-800">Description</h2>
               <p class="mt-2 text-gray-600 leading-relaxed">{{ product.description }}</p>
            </div>

            <div class="mt-6">
               <h2 class="text-xl font-semibold text-gray-800">Status</h2>
               <p class="mt-2 text-gray-600">{{ product.status }}</p>
            </div>

            {% if request.user == product.owner %}
               <div class="mt-8 flex gap-4">
                  <a href="{% url 'update_product' product.id %}"
                     class="px-4 py-2 bg-sky-500 text-white rounded-md">Edit Product</a>
                  <a href="{% url 'delete_product' product.id %}"
                     class="px-4 py-2 bg-rose-500 text-white rounded-md"
                     onclick="return confirm('Are you sure you want to delete this product?')">Delete Product</a>
               </div>
            {% endif %}
         </div>
      </div>
   </div>

   <section class="p-8 space-y-5">
      <h2 class="text-xl font-semibold text-gray-800">Reviews</h2>
      {% if request.user != product.owner %}
         <form method="post">
            {% csrf_token %}
            {{ form|crispy }}
            <button type="submit" class="px-4 py-2 bg-sky-500 text-white rounded-md">Submit Review</button>
         </form>
      {% endif %}
   </section>
{% endblock body %}
